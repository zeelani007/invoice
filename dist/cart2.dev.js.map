{"version":3,"sources":["cart2.js"],"names":["cart","document","querySelector","cartModalOverlay","addEventListener","style","transform","closeBtn","e","target","classList","contains","addToCart","getElementsByClassName","productRow","i","length","button","addToCartClicked","event","cartItem","parentElement","price","innerText","imageSrc","src","addItemToCart","updateCartPrice","createElement","add","productRows","cartImage","alert","cartRowItems","innerHTML","append","removeItem","changeQuantity","removeBtn","btnClicked","remove","quantityInput","input","isNaN","value","total","cartRow","priceElement","quantityElement","parseFloat","replace","quantity","textContent","purchaseBtn","closeCartModal","purchaseBtnClicked","cartItems","hasChildNodes","removeChild","firstChild"],"mappings":"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","sourcesContent":["// open cart modal\r\nconst cart = document.querySelector('#cart');\r\nconst cartModalOverlay = document.querySelector('.cart-modal-overlay');\r\n\r\ncart.addEventListener('click', () => {\r\n  if (cartModalOverlay.style.transform === 'translateX(-200%)'){\r\n    cartModalOverlay.style.transform = 'translateX(0)';\r\n  } else {\r\n    cartModalOverlay.style.transform = 'translateX(-200%)';\r\n  }\r\n})\r\n// end of open cart modal\r\n\r\n// close cart modal\r\nconst closeBtn = document.querySelector ('#close-btn');\r\n\r\ncloseBtn.addEventListener('click', () => {\r\n  cartModalOverlay.style.transform = 'translateX(-200%)';\r\n});\r\n\r\ncartModalOverlay.addEventListener('click', (e) => {\r\n  if (e.target.classList.contains('cart-modal-overlay')){\r\n    cartModalOverlay.style.transform = 'translateX(-200%)'\r\n  }\r\n})\r\n// end of close cart modal\r\n\r\n// add products to cart\r\nconst addToCart = document.getElementsByClassName('add-to-cart');\r\nconst productRow = document.getElementsByClassName('product-row');\r\n\r\nfor (var i = 0; i < addToCart.length; i++) {\r\n  button = addToCart[i];\r\n  button.addEventListener('click', addToCartClicked)\r\n}\r\n\r\nfunction addToCartClicked (event) {\r\n  button = event.target;\r\n  var cartItem = button.parentElement;\r\n  var price = cartItem.getElementsByClassName('product-price')[0].innerText;\r\n  \r\n  var imageSrc = cartItem.getElementsByClassName('product-image')[0].src;\r\n  addItemToCart (price, imageSrc);\r\n  updateCartPrice()\r\n}\r\n\r\nfunction addItemToCart (price, imageSrc) {\r\n  var productRow = document.createElement('div');\r\n  productRow.classList.add('product-row');\r\n  var productRows = document.getElementsByClassName('product-rows')[0];\r\n  var cartImage = document.getElementsByClassName('cart-image');\r\n  \r\n  for (var i = 0; i < cartImage.length; i++){\r\n    if (cartImage[i].src == imageSrc){\r\n      alert ('This item has already been added to the cart')\r\n      return;\r\n    }\r\n  }\r\n  \r\n  var cartRowItems = `\r\n  <div class=\"product-row\">\r\n        <img class=\"cart-image\" src=\"${imageSrc}\" alt=\"\">\r\n        <span class =\"cart-price\">${price}</span>\r\n        <input class=\"product-quantity\" type=\"number\" value=\"1\">\r\n        <button class=\"remove-btn\">Remove</button>\r\n        </div>\r\n        \r\n      `\r\n  productRow.innerHTML = cartRowItems;\r\n  productRows.append(productRow);\r\n  productRow.getElementsByClassName('remove-btn')[0].addEventListener('click', removeItem)\r\n  productRow.getElementsByClassName('product-quantity')[0].addEventListener('change', changeQuantity)\r\n  updateCartPrice()\r\n}\r\n// end of add products to cart\r\n\r\n// Remove products from cart\r\nconst removeBtn = document.getElementsByClassName('remove-btn');\r\nfor (var i = 0; i < removeBtn.length; i++) {\r\n  button = removeBtn[i]\r\n  button.addEventListener('click', removeItem)\r\n}\r\n\r\nfunction removeItem (event) {\r\n  btnClicked = event.target\r\n  btnClicked.parentElement.parentElement.remove()\r\n  updateCartPrice()\r\n}\r\n\r\n// update quantity input\r\nvar quantityInput = document.getElementsByClassName('product-quantity')[0];\r\n\r\nfor (var i = 0; i < quantityInput; i++){\r\n  input = quantityInput[i]\r\n  input.addEventListener('change', changeQuantity)\r\n}\r\n\r\nfunction changeQuantity(event) {\r\n  var input = event.target\r\n  if (isNaN(input.value) || input.value <= 0){\r\n    input.value = 1\r\n  }\r\n  updateCartPrice()\r\n}\r\n// end of update quantity input\r\n\r\n// update total price\r\nfunction updateCartPrice() {\r\n  var total = 0\r\n  for (var i = 0; i < productRow.length; i += 2) {\r\n    cartRow = productRow[i]\r\n  var priceElement = cartRow.getElementsByClassName('cart-price')[0]\r\n  var quantityElement = cartRow.getElementsByClassName('product-quantity')[0]\r\n  var price = parseFloat(priceElement.innerText.replace('$', ''))\r\n  var quantity = quantityElement.value\r\n  total = total + (price * quantity )\r\n    \r\n  }\r\n  document.getElementsByClassName('total-price')[0].innerText =  '$' + total\r\n\r\ndocument.getElementsByClassName('cart-quantity')[0].textContent = i /= 2\r\n}\r\n// end of update total price\r\n\r\n// purchase items\r\nconst purchaseBtn = document.querySelector('.purchase-btn');\r\n\r\nconst closeCartModal = document.querySelector('.cart-modal');\r\n\r\npurchaseBtn.addEventListener('click', purchaseBtnClicked)\r\n\r\nfunction purchaseBtnClicked () {\r\n  alert ('Thank you for your purchase');\r\n  cartModalOverlay.style.transform= 'translateX(-100%)'\r\n var cartItems = document.getElementsByClassName('product-rows')[0]\r\n while (cartItems.hasChildNodes()) {\r\n   cartItems.removeChild(cartItems.firstChild)\r\n   \r\n }\r\n  updateCartPrice()\r\n}\r\n// end of purchase items\r\n\r\n//alert user if cart is empty \r\n\r\n\r\n\r\n"],"file":"cart2.dev.js"}
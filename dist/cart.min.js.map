{"version":3,"sources":["cart.js"],"names":["shoppingCart","Item","name","price","count","this","sessionStorage","setItem","JSON","stringify","cart","getItem","parse","obj","item","saveCart","i","removeItemFromCart","splice","totalCount","totalCart","Number","toFixed","cartCopy","p","itemCopy","listCart","displayCart","output","cartArray","clearCart","total","$","html","click","event","preventDefault","data","addItemToCart","on","removeItemFromCartAll","setCountForItem","val"],"mappings":"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","file":"cart.min.js","sourcesContent":["\r\n// ************************************************\r\n// Shopping Cart API\r\n// ************************************************\r\n\r\nvar shoppingCart = (function() {\r\n    // =============================\r\n    // Private methods and propeties\r\n    // =============================\r\n    cart = [];\r\n    \r\n    // Constructor\r\n    function Item(name, price, count) {\r\n    this.name = name;\r\n    this.price = price;\r\n    this.count = count;\r\n    }\r\n    \r\n    // Save cart\r\n    function saveCart() {\r\n    sessionStorage.setItem('shoppingCart', JSON.stringify(cart));\r\n    }\r\n    \r\n    // Load cart\r\n    function loadCart() {\r\n    cart = JSON.parse(sessionStorage.getItem('shoppingCart'));\r\n    }\r\n    if (sessionStorage.getItem(\"shoppingCart\") != null) {\r\n    loadCart();\r\n    }\r\n    \r\n    \r\n    // =============================\r\n    // Public methods and propeties\r\n    // =============================\r\n    var obj = {};\r\n    \r\n    // Add to cart\r\n    obj.addItemToCart = function(name, price, count) {\r\n    for(var item in cart) {\r\n    if(cart[item].name === name) {\r\n    cart[item].count ++;\r\n    saveCart();\r\n    return;\r\n    }\r\n    }\r\n    var item = new Item(name, price, count);\r\n    cart.push(item);\r\n    saveCart();\r\n    }\r\n    // Set count from item\r\n    obj.setCountForItem = function(name, count) {\r\n    for(var i in cart) {\r\n    if (cart[i].name === name) {\r\n    cart[i].count = count;\r\n    break;\r\n    }\r\n    }\r\n    };\r\n    // Remove item from cart\r\n    obj.removeItemFromCart = function(name) {\r\n    for(var item in cart) {\r\n    if(cart[item].name === name) {\r\n      cart[item].count --;\r\n      if(cart[item].count === 0) {\r\n        cart.splice(item, 1);\r\n      }\r\n      break;\r\n    }\r\n    }\r\n    saveCart();\r\n    }\r\n    \r\n    // Remove all items from cart\r\n    obj.removeItemFromCartAll = function(name) {\r\n    for(var item in cart) {\r\n    if(cart[item].name === name) {\r\n    cart.splice(item, 1);\r\n    break;\r\n    }\r\n    }\r\n    saveCart();\r\n    }\r\n    \r\n    // Clear cart\r\n    obj.clearCart = function() {\r\n    cart = [];\r\n    saveCart();\r\n    }\r\n    \r\n    // Count cart \r\n    obj.totalCount = function() {\r\n    var totalCount = 0;\r\n    for(var item in cart) {\r\n    totalCount += cart[item].count;\r\n    }\r\n    return totalCount;\r\n    }\r\n    \r\n    // Total cart\r\n    obj.totalCart = function() {\r\n    var totalCart = 0;\r\n    for(var item in cart) {\r\n    totalCart += cart[item].price * cart[item].count;\r\n    }\r\n    return Number(totalCart.toFixed(2));\r\n    }\r\n    \r\n    // List cart\r\n    obj.listCart = function() {\r\n    var cartCopy = [];\r\n    for(i in cart) {\r\n    item = cart[i];\r\n    itemCopy = {};\r\n    for(p in item) {\r\n    itemCopy[p] = item[p];\r\n    \r\n    }\r\n    itemCopy.total = Number(item.price * item.count).toFixed(2);\r\n    cartCopy.push(itemCopy)\r\n    }\r\n    return cartCopy;\r\n    }\r\n    \r\n    // cart : Array\r\n    // Item : Object/Class\r\n    // addItemToCart : Function\r\n    // removeItemFromCart : Function\r\n    // removeItemFromCartAll : Function\r\n    // clearCart : Function\r\n    // countCart : Function\r\n    // totalCart : Function\r\n    // listCart : Function\r\n    // saveCart : Function\r\n    // loadCart : Function\r\n    return obj;\r\n    })();\r\n    \r\n    \r\n    // *****************************************\r\n    // Triggers / Events\r\n    // ***************************************** \r\n    // Add item\r\n    $('.add-to-cart').click(function(event) {\r\n    event.preventDefault();\r\n    var name = $(this).data('name');\r\n    var price = Number($(this).data('price'));\r\n    shoppingCart.addItemToCart(name, price, 1);\r\n    displayCart();\r\n    });\r\n    \r\n    // Clear items\r\n    $('.clear-cart').click(function() {\r\n    shoppingCart.clearCart();\r\n    displayCart();\r\n    });\r\n    \r\n    \r\n    function displayCart() {\r\n    var cartArray = shoppingCart.listCart();\r\n    var output = \"\";\r\n    for(var i in cartArray) {\r\n    output += \"<tr>\"\r\n    + \"<td>\" + cartArray[i].name + \"</td>\" \r\n    + \"<td>(\" + cartArray[i].price + \")</td>\"\r\n    + \"<td><div class='input-group'><button class='minus-item input-group-addon btn btn-primary' data-name=\" + cartArray[i].name + \">-</button>\"\r\n    + \"<input type='number' class='item-count form-control' data-name='\" + cartArray[i].name + \"' value='\" + cartArray[i].count + \"'>\"\r\n    + \"<button class='plus-item btn btn-primary input-group-addon' data-name=\" + cartArray[i].name + \">+</button></div></td>\"\r\n    + \"<td><button class='delete-item btn btn-danger' data-name=\" + cartArray[i].name + \">X</button></td>\"\r\n    + \" = \" \r\n    + \"<td>\" + cartArray[i].total + \"</td>\" \r\n    +  \"</tr>\";\r\n    }\r\n    $('.show-cart').html(output);\r\n    $('.total-cart').html(shoppingCart.totalCart());\r\n    $('.total-count').html(shoppingCart.totalCount());\r\n    }\r\n    \r\n    // Delete item button\r\n    \r\n    $('.show-cart').on(\"click\", \".delete-item\", function(event) {\r\n    var name = $(this).data('name')\r\n    shoppingCart.removeItemFromCartAll(name);\r\n    displayCart();\r\n    })\r\n    \r\n    \r\n    // -1\r\n    $('.show-cart').on(\"click\", \".minus-item\", function(event) {\r\n    var name = $(this).data('name')\r\n    shoppingCart.removeItemFromCart(name);\r\n    displayCart();\r\n    })\r\n    // +1\r\n    $('.show-cart').on(\"click\", \".plus-item\", function(event) {\r\n    var name = $(this).data('name')\r\n    shoppingCart.addItemToCart(name);\r\n    displayCart();\r\n    })\r\n    \r\n    // Item count input\r\n    $('.show-cart').on(\"change\", \".item-count\", function(event) {\r\n    var name = $(this).data('name');\r\n    var count = Number($(this).val());\r\n    shoppingCart.setCountForItem(name, count);\r\n    displayCart();\r\n    });\r\n    \r\n    displayCart();\r\n\r\n    \r\n\r\n\r\n\r\n"]}
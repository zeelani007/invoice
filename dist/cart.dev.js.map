{"version":3,"sources":["cart.js"],"names":["shoppingCart","cart","Item","name","price","count","saveCart","sessionStorage","setItem","JSON","stringify","loadCart","parse","getItem","obj","addItemToCart","item","push","setCountForItem","i","removeItemFromCart","splice","removeItemFromCartAll","clearCart","totalCount","totalCart","Number","toFixed","listCart","cartCopy","itemCopy","p","total","$","click","event","preventDefault","data","displayCart","cartArray","output","html","on","val"],"mappings":"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","sourcesContent":["\r\n// ************************************************\r\n// Shopping Cart API\r\n// ************************************************\r\n\r\nvar shoppingCart = (function() {\r\n    // =============================\r\n    // Private methods and propeties\r\n    // =============================\r\n    cart = [];\r\n    \r\n    // Constructor\r\n    function Item(name, price, count) {\r\n    this.name = name;\r\n    this.price = price;\r\n    this.count = count;\r\n    }\r\n    \r\n    // Save cart\r\n    function saveCart() {\r\n    sessionStorage.setItem('shoppingCart', JSON.stringify(cart));\r\n    }\r\n    \r\n    // Load cart\r\n    function loadCart() {\r\n    cart = JSON.parse(sessionStorage.getItem('shoppingCart'));\r\n    }\r\n    if (sessionStorage.getItem(\"shoppingCart\") != null) {\r\n    loadCart();\r\n    }\r\n    \r\n    \r\n    // =============================\r\n    // Public methods and propeties\r\n    // =============================\r\n    var obj = {};\r\n    \r\n    // Add to cart\r\n    obj.addItemToCart = function(name, price, count) {\r\n    for(var item in cart) {\r\n    if(cart[item].name === name) {\r\n    cart[item].count ++;\r\n    saveCart();\r\n    return;\r\n    }\r\n    }\r\n    var item = new Item(name, price, count);\r\n    cart.push(item);\r\n    saveCart();\r\n    }\r\n    // Set count from item\r\n    obj.setCountForItem = function(name, count) {\r\n    for(var i in cart) {\r\n    if (cart[i].name === name) {\r\n    cart[i].count = count;\r\n    break;\r\n    }\r\n    }\r\n    };\r\n    // Remove item from cart\r\n    obj.removeItemFromCart = function(name) {\r\n    for(var item in cart) {\r\n    if(cart[item].name === name) {\r\n      cart[item].count --;\r\n      if(cart[item].count === 0) {\r\n        cart.splice(item, 1);\r\n      }\r\n      break;\r\n    }\r\n    }\r\n    saveCart();\r\n    }\r\n    \r\n    // Remove all items from cart\r\n    obj.removeItemFromCartAll = function(name) {\r\n    for(var item in cart) {\r\n    if(cart[item].name === name) {\r\n    cart.splice(item, 1);\r\n    break;\r\n    }\r\n    }\r\n    saveCart();\r\n    }\r\n    \r\n    // Clear cart\r\n    obj.clearCart = function() {\r\n    cart = [];\r\n    saveCart();\r\n    }\r\n    \r\n    // Count cart \r\n    obj.totalCount = function() {\r\n    var totalCount = 0;\r\n    for(var item in cart) {\r\n    totalCount += cart[item].count;\r\n    }\r\n    return totalCount;\r\n    }\r\n    \r\n    // Total cart\r\n    obj.totalCart = function() {\r\n    var totalCart = 0;\r\n    for(var item in cart) {\r\n    totalCart += cart[item].price * cart[item].count;\r\n    }\r\n    return Number(totalCart.toFixed(2));\r\n    }\r\n    \r\n    // List cart\r\n    obj.listCart = function() {\r\n    var cartCopy = [];\r\n    for(i in cart) {\r\n    item = cart[i];\r\n    itemCopy = {};\r\n    for(p in item) {\r\n    itemCopy[p] = item[p];\r\n    \r\n    }\r\n    itemCopy.total = Number(item.price * item.count).toFixed(2);\r\n    cartCopy.push(itemCopy)\r\n    }\r\n    return cartCopy;\r\n    }\r\n    \r\n    // cart : Array\r\n    // Item : Object/Class\r\n    // addItemToCart : Function\r\n    // removeItemFromCart : Function\r\n    // removeItemFromCartAll : Function\r\n    // clearCart : Function\r\n    // countCart : Function\r\n    // totalCart : Function\r\n    // listCart : Function\r\n    // saveCart : Function\r\n    // loadCart : Function\r\n    return obj;\r\n    })();\r\n    \r\n    \r\n    // *****************************************\r\n    // Triggers / Events\r\n    // ***************************************** \r\n    // Add item\r\n    $('.add-to-cart').click(function(event) {\r\n    event.preventDefault();\r\n    var name = $(this).data('name');\r\n    var price = Number($(this).data('price'));\r\n    shoppingCart.addItemToCart(name, price, 1);\r\n    displayCart();\r\n    });\r\n    \r\n    // Clear items\r\n    $('.clear-cart').click(function() {\r\n    shoppingCart.clearCart();\r\n    displayCart();\r\n    });\r\n    \r\n    \r\n    function displayCart() {\r\n    var cartArray = shoppingCart.listCart();\r\n    var output = \"\";\r\n    for(var i in cartArray) {\r\n    output += \"<tr>\"\r\n    + \"<td>\" + cartArray[i].name + \"</td>\" \r\n    + \"<td>(\" + cartArray[i].price + \")</td>\"\r\n    + \"<td><div class='input-group'><button class='minus-item input-group-addon btn btn-primary' data-name=\" + cartArray[i].name + \">-</button>\"\r\n    + \"<input type='number' class='item-count form-control' data-name='\" + cartArray[i].name + \"' value='\" + cartArray[i].count + \"'>\"\r\n    + \"<button class='plus-item btn btn-primary input-group-addon' data-name=\" + cartArray[i].name + \">+</button></div></td>\"\r\n    + \"<td><button class='delete-item btn btn-danger' data-name=\" + cartArray[i].name + \">X</button></td>\"\r\n    + \" = \" \r\n    + \"<td>\" + cartArray[i].total + \"</td>\" \r\n    +  \"</tr>\";\r\n    }\r\n    $('.show-cart').html(output);\r\n    $('.total-cart').html(shoppingCart.totalCart());\r\n    $('.total-count').html(shoppingCart.totalCount());\r\n    }\r\n    \r\n    // Delete item button\r\n    \r\n    $('.show-cart').on(\"click\", \".delete-item\", function(event) {\r\n    var name = $(this).data('name')\r\n    shoppingCart.removeItemFromCartAll(name);\r\n    displayCart();\r\n    })\r\n    \r\n    \r\n    // -1\r\n    $('.show-cart').on(\"click\", \".minus-item\", function(event) {\r\n    var name = $(this).data('name')\r\n    shoppingCart.removeItemFromCart(name);\r\n    displayCart();\r\n    })\r\n    // +1\r\n    $('.show-cart').on(\"click\", \".plus-item\", function(event) {\r\n    var name = $(this).data('name')\r\n    shoppingCart.addItemToCart(name);\r\n    displayCart();\r\n    })\r\n    \r\n    // Item count input\r\n    $('.show-cart').on(\"change\", \".item-count\", function(event) {\r\n    var name = $(this).data('name');\r\n    var count = Number($(this).val());\r\n    shoppingCart.setCountForItem(name, count);\r\n    displayCart();\r\n    });\r\n    \r\n    displayCart();\r\n\r\n    \r\n\r\n\r\n\r\n"],"file":"cart.dev.js"}
"use strict";var shoppingCart=function(){function o(t,a,r){this.name=t,this.price=a,this.count=r}function e(){sessionStorage.setItem("shoppingCart",JSON.stringify(cart))}cart=[],null!=sessionStorage.getItem("shoppingCart")&&(cart=JSON.parse(sessionStorage.getItem("shoppingCart")));var t={addItemToCart:function(t,a,r){for(var n in cart)if(cart[n].name===t)return cart[n].count++,void e();n=new o(t,a,r);cart.push(n),e()},setCountForItem:function(t,a){for(var r in cart)if(cart[r].name===t){cart[r].count=a;break}},removeItemFromCart:function(t){for(var a in cart)if(cart[a].name===t){cart[a].count--,0===cart[a].count&&cart.splice(a,1);break}e()},removeItemFromCartAll:function(t){for(var a in cart)if(cart[a].name===t){cart.splice(a,1);break}e()},clearCart:function(){cart=[],e()},totalCount:function(){var t=0;for(var a in cart)t+=cart[a].count;return t},totalCart:function(){var t=0;for(var a in cart)t+=cart[a].price*cart[a].count;return Number(t.toFixed(2))},listCart:function(){var t=[];for(i in cart){for(p in item=cart[i],itemCopy={},item)itemCopy[p]=item[p];itemCopy.total=Number(item.price*item.count).toFixed(2),t.push(itemCopy)}return t}};return t}();function displayCart(){var t=shoppingCart.listCart(),a="";for(var r in t)a+="<tr><td>"+t[r].name+"</td><td>("+t[r].price+")</td><td><div class='input-group'><button class='minus-item input-group-addon btn btn-primary' data-name="+t[r].name+">-</button><input type='number' class='item-count form-control' data-name='"+t[r].name+"' value='"+t[r].count+"'><button class='plus-item btn btn-primary input-group-addon' data-name="+t[r].name+">+</button></div></td><td><button class='delete-item btn btn-danger' data-name="+t[r].name+">X</button></td> = <td>"+t[r].total+"</td></tr>";$(".show-cart").html(a),$(".total-cart").html(shoppingCart.totalCart()),$(".total-count").html(shoppingCart.totalCount())}$(".add-to-cart").click(function(t){t.preventDefault();var a=$(this).data("name"),r=Number($(this).data("price"));shoppingCart.addItemToCart(a,r,1),displayCart()}),$(".clear-cart").click(function(){shoppingCart.clearCart(),displayCart()}),$(".show-cart").on("click",".delete-item",function(t){var a=$(this).data("name");shoppingCart.removeItemFromCartAll(a),displayCart()}),$(".show-cart").on("click",".minus-item",function(t){var a=$(this).data("name");shoppingCart.removeItemFromCart(a),displayCart()}),$(".show-cart").on("click",".plus-item",function(t){var a=$(this).data("name");shoppingCart.addItemToCart(a),displayCart()}),$(".show-cart").on("change",".item-count",function(t){var a=$(this).data("name"),r=Number($(this).val());shoppingCart.setCountForItem(a,r),displayCart()}),displayCart();
//# sourceMappingURL=cart.min.js.map
